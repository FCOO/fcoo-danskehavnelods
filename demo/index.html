<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="da" style="font-size: 100%">
<head>
	<title>fcoo.dk - fcoo-havnelods - Demo</title>
	<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta http-equiv='x-dns-prefetch-control' content='on'>

	<meta name='copyright' content='FCOO'>
	<meta name='owner' content='FCOO'>

  <link  href="bower_components.css" rel="stylesheet">	
  <link  href="../src/fcoo-havnelods.css" rel="stylesheet">	

  <style>
        .annotation {
            color: red;
            background-color: yellow;
        }
  </style>
</head>

<body>
	<div id="map" style="width: 100%; height: 100%"></div>
	
    <script>
        window.fcoo = window.fcoo || {};
        window.fcoo.DEMO_VERSION = true;
        //OR window.fcoo.LOCAL_DATA = true;
    </script>
    <script src="bower_components.js"></script>
    <!-- <script src="../src/0-facilities.js"></script> -->
    <script src="../src/1-location.js"></script>
    <script src="../src/2-location-dk.js"></script>
    <script src="../src/3-location-gl.js"></script>
    <script src="../src/4-location-bridge.js"></script>
    <script src="../src/5-location-content.js"></script>
    <script src="../src/fcoo-havnelods.js"></script>
    <script>
        i18next.init();
        i18next.changeLanguage('da');
        i18next.options.fallbackLng = i18next.language == 'da' ? 'en' : 'da';


        //ONLY WHEN PUSH TO GITHUB        
        window.fcoo.DEMO_VERSION = true;
//HER        window.fcoo.LOCAL_DATA = !window.fcoo.DEMO_VERSION;

        Promise.defaultErrorHandler = function( error ){
            console.log('*********************');
            console.log('DEFAULT error-handler');
            console.log('status=', error.status);
            console.log('url=', error.url);
            console.log('text=', error.text);
            console.log(error);
            console.log('*********************');
        };
    
/*
    var list = window.fcoo.Havnelods.FacilitiesGroupList;
    $.each(list, function(index, group){
        $.each(group.list, function(index, options){
            $('<span style="padding:0 10px; margin-right:20px; border:1px solid black;"><i class="'+options.icon+'"></i>&nbsp;'+options.text.da+'</span>').appendTo( 'body');
        });    
    });    
*/

        $(function() {
	        var map = L.map('map').setView([56.2, 11.5], 6);
    		L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		        maxZoom: 18,
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors</a>'
            }).addTo(map);

            (new L.GeoJSON.Havnelods_DK(null, {
                onClickPosition: function( location ){ console.log('LOCATION', location); },
            }) ).addTo(map);

            (new L.GeoJSON.Havnelods_GL()).addTo(map);
            (new L.GeoJSON.Havnelods_Bridges()).addTo(map);

            fcoo.promiseList.promiseAll();
        });

    </script>
</body>
</html>
